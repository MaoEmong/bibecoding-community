# 14-게시글삭제댓글정책

## 목표
- 게시글 삭제 시 연결된 댓글을 함께 정리해 무결성을 보장한다.

## 변경 내용
1. `CommentRepository`
- `deleteByPostId(Long postId)` 메서드 추가

2. `CommentRepositoryImpl`
- JPQL bulk delete 추가
- `delete from Comment c where c.post.id = :postId`

3. `PostService`
- 게시글 삭제 전에 `commentRepository.deleteByPostId(id)` 실행
- 순서: 권한검사 -> 댓글삭제 -> 게시글삭제

4. 테스트
- `PostServiceIntegrationTest`에
  `deleting_post_also_deletes_its_comments` 시나리오 추가

## 기대 효과
- 댓글이 있는 게시글 삭제 시 FK 제약 문제 예방
- 서비스 레이어에서 삭제 정책이 명확하게 관리됨
